/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleKeyboardSwipe=t():e.SimpleKeyboardSwipe=t()}(self,(()=>(()=>{"use strict";var e={523:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,".keyboardContainer {\n  position: relative;\n}\n\n.keyboardContainer .swipeCanvasElement {\n  position: absolute;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n  z-index: 1001;\n  user-select: none;\n}\n\n.simple-keyboard.hg-theme-default.module-simplekeyboardswipe {\n  position: relative;\n}\n\n.simple-keyboard.hg-theme-default.module-simplekeyboardswipe .hg-button {\n  height: 60px;\n}\n\n.simple-keyboard.module-simplekeyboardswipe .hg-button span {\n  pointer-events: none;\n}\n",""]);const s=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=a[u]||0,d="".concat(u," ").concat(l);a[u]=l+1;var p=n(d),y={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(y);else{var f=o(y,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=r(e,o),u=0;u<a.length;u++){var l=n(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};n.r(r),n.d(r,{default:()=>C});var o=n(72),a=n.n(o),i=n(825),s=n.n(i),c=n(659),u=n.n(c),l=n(56),d=n.n(l),p=n(540),y=n.n(p),f=n(113),v=n.n(f),m=n(523),h={};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}function g(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}h.styleTagTransform=v(),h.setAttributes=d(),h.insert=u().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=y(),a()(m.A,h),m.A&&m.A.locals&&m.A.locals;const S=g((function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),x(this,"init",(function(e,n,r){t.canvasW=n,t.canvasH=r;var o=document.createElement("canvas");o.className="swipeCanvasElement",o.width=n,o.height=r,e.insertAdjacentElement("beforebegin",o),t.canvas=document.querySelector(".swipeCanvasElement"),t.ctx=t.canvas.getContext("2d")})),x(this,"clear",(function(){t.ctx.clearRect(0,0,t.canvasW,t.canvasH)})),x(this,"draw",(function(e,n,r,o){t.ctx.beginPath(),t.ctx.moveTo(e,n),t.ctx.lineTo(r,o),t.ctx.strokeStyle="rgba(10, 103, 115, 0.9)",t.ctx.lineWidth=3,t.ctx.stroke(),t.ctx.closePath()}))}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function H(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}function P(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=function(e){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:t+""}const C=P((function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),function(e,t,n){(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"init",(function(e){e.registerModule("swipe",(function(n){n.Canvas=S,n.init=function(){n.initVars(),n.canvasHandler=new n.Canvas,n.canvasHandler.init(e.keyboardDOM,n.canvasW,n.canvasH),n.initEvents(),n.applyKeyDimensions(),setTimeout((function(){if(e.keyboardDOM&&n.canvasHandler.canvas){var t=e.keyboardDOM.getBoundingClientRect();n.canvasHandler.canvas.style.width="".concat(t.width,"px"),n.canvasHandler.canvas.style.height="".concat(t.height,"px"),n.canvasHandler.canvas.width=t.width,n.canvasHandler.canvas.height=t.height}}),150)},n.initVars=function(){var t=e.keyboardDOMClass;e.keyboardDOM=document.querySelector(".".concat(t)),n.canvasW=e.keyboardDOM.offsetWidth,n.canvasH=e.keyboardDOM.offsetHeight,n.isMouseClicked=!1,n.isMouseInCanvas=!1,n.prevX=0,n.currX=0,n.prevY=0,n.currY=0,n.lastButton="",n.swipeTolerance=30,n.stoppedTime=50,n.repeatResetTime=200,n.currentStroke=[],n.allStrokes=[],n.currentStrokeKey="",n.keyDimensions={й:{x:0,y:15,w:99,h:154},ц:{x:98,y:15,w:99,h:154},у:{x:196,y:15,w:100,h:154},к:{x:295,y:15,w:99,h:154},е:{x:393,y:15,w:99,h:154},н:{x:491,y:15,w:99,h:154},г:{x:589,y:15,w:99,h:154},ш:{x:687,y:15,w:99,h:154},щ:{x:785,y:15,w:100,h:154},з:{x:884,y:15,w:99,h:154},х:{x:982,y:15,w:98,h:154},ф:{x:0,y:169,w:99,h:154},ы:{x:98,y:169,w:99,h:154},в:{x:196,y:169,w:100,h:154},а:{x:295,y:169,w:99,h:154},п:{x:393,y:169,w:99,h:154},р:{x:491,y:169,w:99,h:154},о:{x:589,y:169,w:99,h:154},л:{x:687,y:169,w:99,h:154},д:{x:785,y:169,w:100,h:154},ж:{x:884,y:169,w:99,h:154},э:{x:982,y:169,w:98,h:154},"{shift}":{x:0,y:323,w:120,h:154},shift:{x:0,y:323,w:120,h:154},я:{x:119,y:323,w:94,h:154},ч:{x:212,y:323,w:95,h:154},с:{x:306,y:323,w:94,h:154},м:{x:399,y:323,w:95,h:154},и:{x:493,y:323,w:94,h:154},т:{x:586,y:323,w:95,h:154},ь:{x:680,y:323,w:94,h:154},б:{x:773,y:323,w:95,h:154},ю:{x:867,y:323,w:95,h:154},"{backspace}":{x:961,y:323,w:119,h:154},backspace:{x:961,y:323,w:119,h:154},"{capslock}":{x:0,y:477,w:141,h:154},toNumberState:{x:0,y:477,w:141,h:154},"{globe}":{x:140,y:477,w:120,h:154},globe:{x:140,y:477,w:120,h:154},",":{x:259,y:477,w:98,h:154},"{space}":{x:356,y:477,w:455,h:154},space:{x:356,y:477,w:455,h:154},".":{x:810,y:477,w:98,h:154},"{enter}":{x:907,y:477,w:173,h:154},enter:{x:907,y:477,w:173,h:154}}},n.initEvents=function(){n.canvasHandler.canvas.addEventListener("mousemove",(function(e){n.onMouseMove(e)}),!1),n.canvasHandler.canvas.addEventListener("mousedown",(function(e){n.onMouseDown(e)}),!1),n.canvasHandler.canvas.addEventListener("mouseup",(function(){n.onMouseUp()}),!1),n.canvasHandler.canvas.addEventListener("mouseout",(function(){n.onMouseOut()}),!1),n.canvasHandler.canvas.addEventListener("mouseenter",(function(e){n.onMouseEnter(e)}),!1),document.addEventListener("touchstart",n.touchHandler,!0),document.addEventListener("touchmove",n.touchHandler,!0),document.addEventListener("touchend",n.touchHandler,!0),document.addEventListener("touchcancel",n.touchHandler,!0)},n.onMouseDown=function(e){n.swipeStart=!0,n.isMouseClicked=!0,n.isMouseInCanvas=!0,n.updateCurrentPosition(e),n.canvasHandler.canvas.classList.add("swipe-mousedown"),n.canvasHandler.canvas.classList.remove("swipe-mouseup"),n.startNewStroke(e),n.isMouseHold=!0,n.holdTimeout=setTimeout((function(){n.isMouseHold&&n.handleInteraction(e),clearTimeout(n.holdTimeout)}),500)},n.onMouseUp=function(){0<n.currentStroke.length&&n.finishCurrentStroke(),n.isMouseHold=!1,n.swipeStart=!1,n.canvasHandler.clear(),n.isMouseClicked=!1,n.canvasHandler.canvas.classList.add("swipe-mouseup"),n.canvasHandler.canvas.classList.remove("swipe-mousedown"),n.canvasHandler.canvas.classList.remove("swipe-mouseenter"),n.canvasHandler.canvas.classList.remove("swipe-mousemove")},n.onMouseEnter=function(){n.swipeStart=!1,n.isMouseClicked=!1,n.canvasHandler.clear(),n.isMouseInCanvas=!0,n.canvasHandler.canvas.classList.add("swipe-mouseenter"),n.canvasHandler.canvas.classList.remove("swipe-mouseout")},n.onMouseOut=function(){0<n.currentStroke.length&&n.finishCurrentStroke(),n.swipeStart=!1,n.canvasHandler.clear(),n.isMouseInCanvas=!1,n.canvasHandler.canvas.classList.add("swipe-mouseout"),n.canvasHandler.canvas.classList.remove("swipe-mouseenter"),n.canvasHandler.canvas.classList.remove("swipe-mousemove")},n.onMouseMove=function(e){n.isMouseHold=!1,n.isMouseClicked&&n.isMouseInCanvas&&(clearTimeout(n.mouseStopped),n.mouseStopped=!1,n.updateCurrentPosition(e),n.canvasHandler.draw(n.prevX,n.prevY,n.currX,n.currY),n.addPointToStroke(e),n.mouseStopped=setTimeout((function(){n.mouseStopped=!0,n.handleInteraction(e)}),n.stoppedTime)),n.canvasHandler.canvas.classList.add("swipe-mousemove")},n.startNewStroke=function(e){n.currentStroke=[],n.currentStrokeKey=t.generateStrokeKey();var r=document.elementFromPoint(e.clientX,e.clientY);if(r){var o=r.getAttribute("data-key-label");o||(o=r.getAttribute("data-skbtn")),o&&(n.currentStrokeKey=o)}n.addPointToStroke(e)},n.addPointToStroke=function(){var e={x:n.currX,y:n.currY,timestamp:Date.now()};n.currentStroke.push(e)},n.finishCurrentStroke=function(){if(0<n.currentStroke.length){var e=n.currentStroke.map((function(e){return{x:e.x,y:e.y,t:e.timestamp}}));console.log(e),n.allStrokes.push(e),n.currentStroke=[],n.currentStrokeKey=""}},n.generateStrokeKey=function(){return"stroke_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))},n.getAllStrokesData=function(){return n.allStrokes},n.clearAllStrokesData=function(){n.allStrokes=[],n.currentStroke=[],n.currentStrokeKey=""},n.applyKeyDimensions=function(){n.keyDimensions&&setTimeout((function(){e.keyboardDOM.querySelectorAll(".hg-button").forEach((function(e){e.style.setProperty("display","none","important")}));var t=e.keyboardDOM.querySelectorAll(".hg-button"),r={};t.forEach((function(e){var t=e.getAttribute("data-skbtn");if(t){r[t]=e;var n=t.replace(/[{}]/g,"");n!==t&&(r[n]=e)}}));var o=document.createElement("div");o.className="custom-keyboard-keys",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.zIndex="10",Object.keys(n.keyDimensions).forEach((function(e){var t=n.keyDimensions[e],a=r[e];if(!a){var i=e.replace(/[{}]/g,"");a=r[i]}if(t){var s=document.createElement("div");if(s.className="custom-key",s.setAttribute("data-key-label",e),s.style.setProperty("position","absolute","important"),s.style.setProperty("left","".concat(t.x,"px"),"important"),s.style.setProperty("top","".concat(t.y,"px"),"important"),s.style.setProperty("width","".concat(t.w,"px"),"important"),s.style.setProperty("height","".concat(t.h,"px"),"important"),s.style.setProperty("margin","0","important"),s.style.setProperty("margin-top","0","important"),s.style.setProperty("margin-bottom","0","important"),s.style.setProperty("margin-left","0","important"),s.style.setProperty("margin-right","0","important"),s.style.setProperty("padding","0","important"),s.style.setProperty("padding-top","0","important"),s.style.setProperty("padding-bottom","0","important"),s.style.setProperty("padding-left","0","important"),s.style.setProperty("padding-right","0","important"),s.style.setProperty("box-sizing","border-box","important"),s.style.setProperty("border","none","important"),s.style.setProperty("border-width","0","important"),s.style.setProperty("line-height","normal","important"),s.style.setProperty("min-height","".concat(t.h,"px"),"important"),s.style.setProperty("max-height","".concat(t.h,"px"),"important"),a){s.innerHTML=a.innerHTML;var c=window.getComputedStyle(a);s.style.background=c.background||"#fff",s.style.boxShadow=c.boxShadow||"0 0 3px -1px rgba(0, 0, 0, .3)",s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.cursor="pointer",s.style.fontSize=c.fontSize||"inherit",s.style.color=c.color||"inherit",s.style.fontFamily=c.fontFamily||"inherit",s.style.fontWeight=c.fontWeight||"inherit",s.addEventListener("click",(function(){a.onclick?a.onclick():a.click()}))}o.appendChild(s)}})),e.keyboardDOM&&(e.keyboardDOM.style.position="relative",e.keyboardDOM.appendChild(o))}),100)},n.updateCurrentPosition=function(t){var r=e.keyboardDOM.getBoundingClientRect();n.prevX=n.currX,n.prevY=n.currY,n.currX=t.clientX-r.left,n.currY=t.clientY-r.top,n.getMouseDirection(t)},n.getMouseDirection=function(e){var t,r;n.enforceTolerance(n.prevX,n.currX)&&(t=n.prevX<n.currX?"right":"left"),n.enforceTolerance(n.prevX,n.currX)&&(r=n.prevY<n.currY?"down":"up"),(r!==n.yDirection||t!==n.xDirection)&&(t&&(n.xDirection=t),r&&(n.yDirection=r),n.swipeStart&&(n.handleInteraction(e),n.swipeStart=!1))},n.handleInteraction=function(t){n.canvasHandler.canvas.style.display="none";var r=document.elementFromPoint(t.clientX,t.clientY);if(r){var o=r.getAttribute("data-key-label"),a=null;if(o?e.keyboardDOM.querySelectorAll(".hg-button").forEach((function(e){var t=e.getAttribute("data-skbtn");(t===o||t===o.replace(/[{}]/g,""))&&(a=e)})):(o=r.getAttribute("data-skbtn"),a=r),o&&a&&(n.lastButton!==o||n.isMouseHold)&&a.onclick)if(!n.isMouseHold||(o.includes("{")||o.includes("}"))&&"{bksp}"!==o&&"{space}"!==o){clearTimeout(n.holdInteractionTimeout),a.onclick(),n.lastButton=o;var i=setTimeout((function(){clearTimeout(i),n.lastButton=""}),n.repeatResetTime)}else n.holdInteractionTimeout=setTimeout((function(){a.onclick(),n.handleInteraction(t)}),100);n.canvasHandler.canvas.style.display="block"}},n.enforceTolerance=function(e,t,r){r=r||n.swipeTolerance;var o=Math.abs(e-t);return!!(o>r||0===o)},n.throttle=function(e,t){var n=!1;n||(e(),n=!0,setTimeout((function(){n=!1}),t))},n.touchHandler=function(e){var t=e.changedTouches[0],r="";switch(e.type){case"touchstart":r="mousedown";break;case"touchmove":r="mousemove";break;case"touchend":r="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(r,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),n.canvasHandler.canvas.dispatchEvent(o),e.preventDefault()},n.init()}))}))}));return r})()));